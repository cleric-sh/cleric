{"contents":"exports.__esModule = true;\nvar jsonschema_1 = require(\"jsonschema\");\nexports.json = schema => (value, ...placeholders) => {\n  let input = undefined;\n  if (typeof value === 'string') {\n    input = JSON.parse(value);\n  } else if (Array.isArray(value)) {\n    let result = '';\n    for (let i = 0; i < placeholders.length; i++) {\n      result += value[i];\n      result += placeholders[i];\n    }\n    result += value[value.length - 1];\n    input = JSON.parse(result);\n  } else if (value !== null && typeof value === 'object') {\n    input = value;\n  }\n  if (schema) {\n    const validationResult = jsonschema_1.validate(input, schema);\n    if (validationResult.errors.length > 0) {\n      console.log(validationResult.errors);\n    }\n  }\n  return JSON.stringify(input, null, 2);\n};\n","sourceMap":"{\"version\":3,\"sources\":[\"/Users/martaver/Projects/bernie/git/app/cleric/packages/meta/src/generators/json.ts\"],\"names\":[\"schema\",\"value\",\"placeholders\",\"input\",\"undefined\",\"JSON\",\"parse\",\"Array\",\"isArray\",\"result\",\"i\",\"length\",\"validationResult\",\"jsonschema_1\",\"errors\",\"console\",\"log\",\"stringify\"],\"mappings\":\";;eAQoB,AAAmBA,UAAwC,CAC7EC,UACGC;MAECC,QAA4BC;aAErBH,UAAU;IACnBE,QAAQE,KAAKC,MAAML;aACVM,MAAMC,QAAQP;QACnBQ,SAAS;aAGJC,IAAI,GAAGA,IAAIR,aAAaS,QAAQD;MACvCD,UAAUR,MAAMS;MAChBD,UAAUP,aAAaQ;;IAIzBD,UAAUR,MAAMA,MAAMU,SAAS;IAC/BR,QAAQE,KAAKC,MAAMG;aACVR,UAAU,eAAeA,UAAU;IAC5CE,QAAQF;;MAGND;UACIY,mBAAmBC,sBAASV,OAAOH;QACrCY,iBAAiBE,OAAOH,SAAS;MACnCI,QAAQC,IAAIJ,iBAAiBE;;;SAI1BT,KAAKY,UAAUd,OAAO,MAAM\"}"}